<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>lcb_attributes</title><link rel="stylesheet" type="text/css" href="docbook-xsl.css" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /></head><body><div xml:lang="en" class="refentry" lang="en"><a id="idp259216"></a><div class="titlepage"></div><div class="refnamediv"><h2>Name</h2><p>lcb_attributes â€” attributes of interfaces</p></div><div class="refsect1"><a id="_description"></a><h2>DESCRIPTION</h2><p>The attribute section of the manual pages for libcouchbase contains
a table defining the attribute types and their coresponding values.</p></div><div class="refsect1"><a id="_interface_stability"></a><h2>Interface Stability</h2><p>Libcouchbase tries to follow the "release early, release often"
philosophy. As part of that we want people to be able to try out new
interfaces before we "stick" to them. Unfortunately this means that we
discover that we need to change them in incompatible ways.</p><p>To aid developers to make reasonable decisions on how likely we are to
change these interfaces all functions in libcouchbase have an
associated Interface Stability tag. If you find undocumented structs,
functions or files you should <span class="strong"><strong>not</strong></span> use them. They may be changed in
incompatible ways without any notice. Unless explicitly noted the
interface stability applies to both source code and binaries.</p><p>Libcouchbase use the version numbering as outlined in <a class="ulink" href="http://semver.org/" target="_top">http://semver.org/</a></p><p>The following classifications exists:</p><div class="refsect2"><a id="_committed"></a><h3>Committed</h3><p>A committed interface is the highest grade of stability, and is the
preferred attribute level for consumers of the library. Couchbase
tries at best effort to preseve committed interfaces between major
versions of libcouchbase, and changes to committed interfaces within a
major version is highly exceptional. Such exceptions may include
situations where the interface may lead to data corruption, security
holes etc.</p></div><div class="refsect2"><a id="_uncommitted_interface"></a><h3>Uncommitted interface</h3><p>No commitment is made about the interface (in binary or source
form). It may be changed in incompatible ways and dropped from one
release to another. The difference between an uncommitted interface
and a volatile interface is its maturity and likelyhood of being
changed.</p></div><div class="refsect2"><a id="_volatile_interfaces"></a><h3>Volatile interfaces</h3><p>Volatile interfaces can change at any time and for any reason. The
purpose of a volatile interface is to allow external entities to
provide feedback on new interfaces.</p></div><div class="refsect2"><a id="_deprecated"></a><h3>Deprecated</h3><p>The interface is subject to be removed from future versions of
libcouchbase.</p></div><div class="refsect2"><a id="_private"></a><h3>Private</h3><p>Private interfaces is used internally in libcouchbase and should not
be used elsewhere. Doing so may cause libcouchbase to misbehave.</p></div></div><div class="refsect1"><a id="_mt_level"></a><h2>MT-Level</h2><p>In order to allow libcouchbase to scale out it does not use any locks
internally (unless those provided by system calls). Marking the entire
library as unsafe would not help developers, and refactoring all
methods to contain an _r suffix seems more annoying than
helpful. Instead libcouchbase "tweaks" the definitions of MT-Level
classifications:</p><div class="refsect2"><a id="_mt_safe"></a><h3>MT-Safe</h3><p>An MT-safe operation in libcouchbase means that it is reentrant. It is
MT-safe as long as only one thread operates on the same lcb_t at the
same time (please note that this is no longer true if you use the same
lcb_io_opt_t from multiple threads, or a custom non-mt-safe
lcb_io_opt_t is used).</p><p>If the same lcb_t is to be used from multiple threads (or the
lcb_io_opt_t use global resources), locking <span class="emphasis"><em>must</em></span> be performed by the
caller:</p><pre class="literallayout">mutex_lock( /* ... */ );
lcb_get(instance, cookie, 1, commands);
mutex_unlock( /* ... */ );</pre><p>It is however safe (given that the lcb_io_opt_t in use is MT-safe) to use:</p><pre class="literallayout">thread 1:
lcb_get(thread1_instance, cookie, 1, commands));</pre><pre class="literallayout">thread 2:
lcb_get(thread2_instance, cookie, 1, commands));</pre></div><div class="refsect2"><a id="_unsafe"></a><h3>Unsafe</h3><p>An operation is considered unsafe if it operates on global data that is
unprotected. Lib</p></div></div><div class="refsect1"><a id="_see_also"></a><h2>SEE ALSO</h2><p>Copyright 2010-2013 Couchbase, Inc.</p><p>Learn more at <a class="ulink" href="http://www.couchbase.com/communities/c" target="_top">http://www.couchbase.com/communities/c</a>.</p><p><a class="ulink" href="libcouchbase.3lib.html" target="_top">libcouchbase(3lib)</a></p></div></div></body></html>
